<?xml version="1.0" encoding="UTF-8"?>
<!--
  Monitor para IHS server-status (Python).
  Usa type=file + wrapper run_ihs_status.sh (evita bugs de parsing con type=command).
  Variables de entorno (IHS_STATUS_URL, APPD_HTTP_LISTENER, METRIC_PREFIX)
  deben estar definidas donde corre el Machine Agent (startup, wrapper, etc.).
-->
<monitor>
  <name>IHSStatus</name>
  <type>managed</type>
  <description>IHS server-status monitor (mod_status) para HP-UX – scraping y envío al HTTP Listener</description>

  <monitor-run-task>
    <execution-style>periodic</execution-style>
    <execution-frequency-in-seconds>60</execution-frequency-in-seconds>
    <name>Run</name>
    <type>executable</type>

    <executable-task>
      <type>file</type>
      <file os-type="linux">run_ihs_status.sh</file>
      <file os-type="mac">run_ihs_status.sh</file>
    </executable-task>
  </monitor-run-task>
</monitor>
